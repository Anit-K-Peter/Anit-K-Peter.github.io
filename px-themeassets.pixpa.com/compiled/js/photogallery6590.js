window.PhotoGalleryJs={};var userObject=userObject??"";PhotoGalleryJs.widthPropertyGutter=function(t,a){window.innerWidth>1024?2==userObject.widthProperty||3==userObject.widthProperty?$(".js-grid-padding").css({"padding-left":"0","margin-right":-t}):$(".js-grid-padding").css({"padding-left":t}):window.matchMedia("(orientation: landscape)").matches||2==layout_mobile||3==layout_mobile||window.innerWidth>=768&&window.matchMedia("(orientation: portrait)").matches?$(".js-grid-padding").css({"margin-right":-a}):$(".js-grid-padding").css({"padding-left":"","margin-right":""})},PhotoGalleryJs.gutter_del=function(t,a){a=grid_gutter;1==t||2==t?$(".js-grid").css({"padding-top":a}):$(".js-grid").css({"padding-top":"0"})},PhotoGalleryJs.getResizedPhotos=function(){let t=userObject.userId;for(let s=0;s<$(".js-get-resized-image").length;s++){const l=["vertical_slider","vertical_slider_detailed","single_image","single_image_detailed","horizontal_slider","horizontal_scroll"];if("slideshow"===userObject.onloadType&&l.includes(userObject.slideshowLayout)&&24===s)return!1;var a=$($(".js-get-resized-image")[s]).data("photoid"),e=$($(".js-get-resized-image")[s]).data("photo_versionid"),i=$($(".js-get-resized-image")[s]).data("watermark"),d=$($(".js-get-resized-image")[s]).data("watermark_versionid"),o=$($(".js-get-resized-image")[s]).data("watermark_id"),r=$($(".js-get-resized-image")[s]).data("index");PhotoGalleryJs.getResizedCheckPhotos(a,t,e,i,d,o,r)}},PhotoGalleryJs.getGalleryResizedPhotos=function(t,a){var e=$(t);for(let t=0;t<e.length;t++){const a=["vertical_slider","vertical_slider_detailed","single_image","single_image_detailed","horizontal_slider","horizontal_scroll"];if("slideshow"===userObject.onloadType&&a.includes(userObject.slideshowLayout)&&24===t)return!1;var i=$(e[t]),d=i.data("photoid"),o=i.data("photo_versionid"),r=i.data("watermark"),s=i.data("watermark_versionid"),l=i.data("watermark_id"),g=i.data("index"),n=(i.attr("data-imgQuality"),i.attr("data-userId")),c=i.attr("data-imgtype");null==c&&(c=""),PhotoGalleryJs.getResizedCheckPhotos(d,n,o,r,s,l,g)}},PhotoGalleryJs.getResizedCheckPhotos=async function(t,a,e,i,d,o,r){$.ajax({type:"GET",url:userObject.resizedSignedImageUrl+"resized-signed-image-url/"+userObject.userId+"/"+t+"?quality="+userObject.imgQuality+"&watermark-id="+o+"&watermark="+i+"&watermark-version="+d+"&watermark-id="+o+"&image-version="+e}).done(function(t){if("success"==t.status){t.photo_key;var a=t.photo_100??"",e=(t.photo_300,t.photo_500??"/img/text-slide-placeholder.jpg"),i=t.photo_800??"/img/text-slide-placeholder.jpg",d=t.photo_1000??"/img/text-slide-placeholder.jpg",o=t.photo_1500??"/img/text-slide-placeholder.jpg",s=t.photo_2048??"",l=t.photo_2560??"";const{photo_key:g,photo_100:n="",photo_300:c="",photo_500:h="/img/text-slide-placeholder.jpg",photo_800:m="/img/text-slide-placeholder.jpg",photo_1000:p="/img/text-slide-placeholder.jpg",photo_1500:u="/img/text-slide-placeholder.jpg",photo_2048:w="",photo_2560:_=""}=t,y=$(`[data-key="${g}"]`);if("slideshow"!=userObject.onloadType||"single_image"!=userObject.slideshowLayout&&"single_image_detailed"!=userObject.slideshowLayout){y.attr("data-src",w);const t="slideshow"===userObject.onloadType&&"vertical_slider_offset"===userObject.slideshowLayout?m:h;y.find(".js-get-resized-image-src").attr({src:t,"data-src":m,"data-fotourl":m,"data-srcset":`${c} 300w, ${h} 500w, ${m} 800w, ${p} 1000w, ${u} 1500w, ${w} 2048w, ${_} 2560w`}),y.find(".lazy-infinte-loader").remove(),y.find(`[data-imageid="${g}"]`).attr({"data-smallscreen":h,"data-favorite-image":h,"data-thumb-image":n}),y.find(".js-get-resized-image-src").addClass("lazyload"),"grid"===userObject.onloadType&&["dynamic_horizontal_small","dynamic_horizontal_medium","dynamic_horizontal_large"].includes(userObject.gridLayout)&&$(".grid").justifiedGallery("norewind")}else;void 0!==window.total_data&&"1"==window.total_data[r].type&&(window.total_data[r].photo_100=a,window.total_data[r].photo_500=e,window.total_data[r].photo_800=i,window.total_data[r].photo_1200=d,window.total_data[r].photo_1500=o,window.total_data[r].originalpath=l,window.total_data[r].largepath=s),void 0!==light.data&&(light.data[r]&&"imgslide"==light.data[r].slidertype?(window.innerWidth>767?"auto"==userObject.lightboximg_size?(light.data[r].src=s,light.data[r].responsive=d+" 1200, "+o+" 1500, "+s+" 2048, "+l+" 2560"):"2048"==userObject.lightboximg_size?(light.data[r].src=s,light.data[r].responsive=s+" 2048w"):"1500"==userObject.lightboximg_size||"1440"==userObject.lightboximg_size?(light.data[r].src=o,light.data[r].responsive=o+" 1500w"):"1000"==userObject.lightboximg_size||"1200"==userObject.lightboximg_size?(light.data[r].src=d,light.data[r].responsive=d+" 1000w"):"800"==userObject.lightboximg_size?(light.data[r].src=i,light.data[r].responsive=i+" 800w"):"500"==userObject.lightboximg_size?(light.data[r].src=e,light.data[r].responsive=e+" 500w"):(light.data[r].src=s,light.data[r].responsive=d+" 1200, "+o+" 1500, "+s+" 2048, "+l+" 2560"):(light.data[r].src=s,light.data[r].responsive=d+" 1200, "+o+" 1500, "+s+" 2048"),light.data[r].thumb=e,light.data[r].downloadurl={500:e,1200:d,2e3:o,original:l}):light.data[r]&&"videoslide"==light.data[r].slidertype&&""!=window.total_data[r].largepath&&(window.innerWidth>767?"auto"==userObject.lightboximg_size||"2048"==userObject.lightboximg_size?light.data[r].poster=s:"1500"==userObject.lightboximg_size?light.data[r].poster=o:"1000"==userObject.lightboximg_size?light.data[r].poster=d:"800"==userObject.lightboximg_size?light.data[r].poster=i:"500"==userObject.lightboximg_size?light.data[r].poster=e:light.data[r].poster=s:light.data[r].poster=s,light.data[r].thumb=e))}})},PhotoGalleryJs.getResizedShareCheckPhotos=async function(t,a,e,i,d,o,r,s,l,g){$.ajax({type:"GET",url:a+"resized-signed-image-url/"+i+"/"+e+"?quality="+d+"&watermark-id="+s+"&watermark="+o+"&watermark-version="+r+"&watermark-id="+s+"&image-version="+l}).done(function(t){if("success"==t.status){t.photo_500,t.photo_800;var a=t.photo_1000??"/img/text-slide-placeholder.jpg",e=t.photo_1500??"/img/text-slide-placeholder.jpg",i=t.photo_2048??"";t.photo_2560;if("1200"==g)var d=a;else if("1440"==g)d=e;else if("2048"==g)d=i;else d=i;$(".js-get-resized-image-src").attr({src:d})}})},PhotoGalleryJs.getCommonResizedCheckPhotos=async function(t,a,e,i,d,o,r,s,l,g,n){$.ajax({type:"get",url:s+"resized-signed-image-url/"+a+"/"+t+"?quality="+r+"&watermark="+i+"&watermark-id="+o+"&watermark-version="+d+"&image-version="+e+"&type="+l}).done(function(t){var a=t.photo_key,e=t.photo_100??"",i=t.photo_300??"",d=t.photo_500??"/img/text-slide-placeholder.jpg",o=t.photo_800??"/img/text-slide-placeholder.jpg",r=t.photo_1000??"/img/text-slide-placeholder.jpg",s=t.photo_1500??"/img/text-slide-placeholder.jpg",c=t.photo_2048??"",h=t.photo_2560??"";if(""==h&&(h=c),"store-product-image"==l?($('[data-key="'+a+'"]').find(".js-get-resized-image-src").attr({src:d,"data-src":o,"data-fotourl":o,"data-srcset":i+" 300w, "+d+" 500w, "+o+" 800w,"+r+" 1000w,"+s+" 1500w,"+c+" 2048w,"+h+" 2560w"}),$('[data-key="'+a+'"]').find(".js-get-resized-image-src.js-thumbnail-items-img").attr({"data-src":e,src:e,"data-mainimage":o,"data-largeimage":c,"data-srcset":""}),$('[data-key="'+a+'"].js-listing-addcart-btn, [data-key="'+a+'"].js-addcart-btn').attr({"data-img":e})):"marketing-popup-image"==l||"photogallery"==l?$('[data-key="'+a+'"][data-imgtype="'+l+'"]').find(".js-get-resized-image-src").attr({src:r,"data-src":o,"data-fotourl":o,"data-srcset":i+" 300w, "+d+" 500w, "+o+" 800w,"+r+" 1000w,"+s+" 1500w,"+c+" 2048w,"+h+" 2560w"}):"featured-image"!=l&&"passkey_image"!=l||"background"!=g?"featured-image"==l||"cover-image"==l||"cover-image-mobile"==l||"blog-sidebar-image"==l||"store-sidebar-image"==l?($('[data-key="'+a+'"][data-imgtype="'+l+'"]').find(".js-get-resized-image-src").attr({src:"cover-image"==l||"cover-image-mobile"==l?h:d,"data-src":o,"data-fotourl":o,"data-srcset":i+" 300w, "+d+" 500w, "+o+" 800w,"+r+" 1000w,"+s+" 1500w,"+c+" 2048w,"+h+" 2560w"}),$('[data-key="'+a+'"]').find(".js-get-resized-image-src.js-thumbnail-items-img").attr({"data-src":e,src:e,"data-srcset":"","data-fotourl":""}),"featured-image"==l&&($('[data-key="'+a+'"]').find(".js-get-resized-image-src").addClass("opacityhide"),"mobileapp-featuredimage"!=g&&setTimeout(function(){$(".focuspoint").focusPoint()},500),setTimeout(function(){$(".opacityhide").addClass("active")},1e3))):"logo"==l||"logo2"==l?$('[data-key="'+a+'"][data-imgtype="'+l+'"]').find(".js-get-resized-image-src").attr({src:d}):"blog-author-image"==l||"gravatar"==l?($('[data-key="'+a+'"][data-imgtype="'+l+'"]').find(".js-get-resized-image-src").attr({src:e}),$('[data-key="'+a+'"][data-imgtype="'+l+'"]').find(".js-get-resized-image-src.author-bioimage").attr({src:i})):"package_gallery"==l?$('[data-key="'+a+'"]').find(".js-get-resized-image-src").attr({"data-crop_src":d,"data-src":d,"data-fotourl":d}):($('[data-key="'+a+'"]').find(".js-get-resized-image-src").attr({"data-crop_src":d,src:d,"data-src":o,"data-fotourl":o,"data-srcset":i+" 300w, "+d+" 500w, "+o+" 800w,"+r+" 1000w,"+s+" 1500w,"+c+" 2048w,"+h+" 2560w"}),$('[data-key="'+a+'"]').find(".js-get-resized-image-src.js-thumbnail-items-img").attr({"data-src":e,src:e,"data-srcset":""})):$('[data-key="'+a+'"].body-proofingbg-image').css({"background-image":"url("+c+")"}),"groupimgoverlay"==n&&$('[data-key="'+a+'"]').attr({"data-src":s}),"cover-image"==l||"cover-image-mobile"==l||"mobileapp-featuredimage"==g){var m=$('[data-key="'+a+'"]').attr("data-lazyload"),p=$('[data-key="'+a+'"][data-lazyload="'+m+'"]').attr("data-focus-x"),u=$('[data-key="'+a+'"][data-lazyload="'+m+'"]').attr("data-focus-y");"0"!=p&&"0.000000"!=p||"0"!=u&&"0.000000"!=u?($('[data-key="'+a+'"]').removeClass("donotapplyfcspnt"),$('[data-key="'+a+'"]').find(".js-get-resized-image-src").removeClass("lazyload"),$(".focuspoint").focusPoint()):("fitwidth"==m?($('[data-key="'+a+'"][data-lazyload="fitwidth"]').removeClass("donotapplyfcspnt"),$('[data-key="'+a+'"][data-lazyload="fitwidth"]').find(".js-get-resized-image-src").addClass("lazyload")):$('[data-key="'+a+'"]').addClass("donotapplyfcspnt"),"mobileapp-featuredimage"==g&&$('[data-key="'+a+'"]').find(".js-get-resized-image-src").addClass("lazyload"),$('[data-key="'+a+'"]').removeClass("focuspoint"))}else"gravatar"==l||$('[data-key="'+a+'"]').find(".js-get-resized-image-src").addClass("lazyload");"grid"!=userObject.onloadType||"dynamic_horizontal_small"!=userObject.gridLayout&&"dynamic_horizontal_medium"!=userObject.gridLayout&&"dynamic_horizontal_large"!=userObject.gridLayout||($(".grid").justifiedGallery(),$(".grid").justifiedGallery("norewind")),$('[data-key="'+a+'"]').find(".lazy-infinte-loader").remove()})},PhotoGalleryJs.getCommonResizedPhotos=function(t,a){var e=$(t);for(let t=0;t<e.length;t++){var i=$(e[t]),d=i.data("photoid"),o=i.data("photo_versionid"),r=i.data("watermark"),s=i.data("watermark_versionid"),l=i.data("watermark_id"),g=i.attr("data-imgQuality"),n=i.attr("data-userId"),c=i.attr("data-imgtype"),h=i.attr("data-imgsrctype"),m=i.attr("data-groupimgtype");null==c&&(c=""),null==h&&(h=""),PhotoGalleryJs.getCommonResizedCheckPhotos(d,n,o,r,s,l,g,a,c,h,m)}},PhotoGalleryJs.getStoreProductResizedPhotos=function(){for(var t=0;t<window.total_data.length;t++){let a=window.total_data[t].id,e=userObject.userId,i=userObject.watermarkVersionId;watermarkId=userObject.watermarkId;let d=0,o=Date.parse(window.total_data[t].updated_at),r=t;$.ajax({type:"GET",url:userObject.resizedSignedImageUrl+"resized-signed-image-url/"+e+"/"+a+"?quality=90&watermark="+d+"&watermark-id="+watermarkId+"&watermark-version="+i+"&watermark-id="+watermarkId+"&image-version="+o+"&type=store-product-image"}).done(function(t){if("success"==t.status){var a=t.photo_100??"",e=t.photo_500??"",i=t.photo_800??"",d=t.photo_1000??"",o=t.photo_1500??"",s=t.photo_2048??"",l=t.photo_2560??"",g=t.photo_key;$('[data-key="'+g+'"] .js-listing-addcart-btn, [data-key="'+g+'"] .js-addcart-btn').attr({"data-img":a}),void 0!==window.total_data&&(window.total_data[r].photo_100=e,window.total_data[r].photo_500=e,window.total_data[r].photo_800=i,window.total_data[r].photo_1200=d,window.total_data[r].photo_1500=o,window.total_data[r].largepath=s),void 0!==light.data&&(light.data[r].src=s,light.data[r].responsive=d+" 1200, "+o+" 1500, "+s+" 2048",light.data[r].thumb=e,light.data[r].downloadurl={500:e,1200:d,2e3:o,original:l})}})}};
